@using JournalSystem.Models
@inject IJSRuntime JS

<canvas id="mood-chart" width="400" height="400"></canvas>

@code {
    [Parameter]
    public MoodDistributionResult Distribution { get; set; } = new();

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (Distribution == null)
            return;

        var labels = new[] { "Positive", "Neutral", "Negative" };
        var data = new[] { Distribution.Positive, Distribution.Neutral, Distribution.Negative };

        await JS.InvokeVoidAsync("initPieChart", "mood-chart", "Mood Distribution", labels, data);
    }
}